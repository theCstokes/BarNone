{"version":3,"sources":["../src/Vee/StateManager/StateBind.ts"],"names":[],"mappings":";;;IAIA;QAIC,YAAmB,YAAsC;YACxD,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QACnC,CAAC;QAEM,QAAQ,CAAC,QAAkC;YACjD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;YAC1B,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,OAAO,CAAC,IAAS;YACvB,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,EAAE,IAAI,CAAC,CAAC;YAC3E,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAC3C,CAAC;QAEM,MAAM,CAAC,MAAM,CAAS,YAAsC;YAClE,MAAM,CAAC,IAAI,SAAS,CAAC,YAAY,CAAC,CAAC;QACpC,CAAC;KACD;IArBD,4BAqBC","file":"StateBind.js","sourcesContent":["import { BaseStateManager } from \"Vee/StateManager/BaseStateManager\";\r\n\r\ntype OnActionCallback<TState> = (state: TState, data: any) => any;\r\n\r\nexport default class StateBind<TState> {\r\n\tprivate _callback: OnActionCallback<TState>;\r\n\tprivate _stateManager: BaseStateManager<TState>;\r\n\r\n\tpublic constructor(stateManager: BaseStateManager<TState>) {\r\n\t\tthis._stateManager = stateManager;\r\n\t}\r\n\r\n\tpublic onAction(callback: OnActionCallback<TState>): StateBind<TState> {\r\n\t\tthis._callback = callback;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic trigger(data: any): void {\r\n\t\tvar nextState = this._callback(this._stateManager.getCurrentState(), data);\r\n\t\tthis._stateManager.updateState(nextState);\r\n\t}\r\n\r\n\tpublic static create<TState>(stateManager: BaseStateManager<TState>): StateBind<TState> {\r\n\t\treturn new StateBind(stateManager);\r\n\t}\r\n}"]}