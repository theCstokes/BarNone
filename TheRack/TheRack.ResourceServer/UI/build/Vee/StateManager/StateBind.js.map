{"version":3,"sources":["../src/Vee/StateManager/StateBind.ts"],"names":[],"mappings":";;;IAIA;QAKC,YAAmB,YAAsC,EAAE,QAAiB,KAAK;YAChF,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;YAClC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACrB,CAAC;QAEM,QAAQ,CAAC,QAAkC;YACjD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;YAC1B,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,OAAO,CAAC,IAAS;YACvB,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,EAAE,IAAI,CAAC,CAAC;YAC3E,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACxD,CAAC;QAEM,MAAM,CAAC,MAAM,CAAS,YAAsC,EAAE,QAAiB,KAAK;YAC1F,MAAM,CAAC,IAAI,SAAS,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;QAC3C,CAAC;KACD;IAvBD,4BAuBC","file":"StateBind.js","sourcesContent":["import { BaseStateManager } from \"Vee/StateManager/BaseStateManager\";\r\n\r\ntype OnActionCallback<TState> = (state: TState, data: any) => any;\r\n\r\nexport default class StateBind<TState> {\r\n\tprivate _callback: OnActionCallback<TState>;\r\n\tprivate _stateManager: BaseStateManager<TState>;\r\n\tprivate _reset: boolean;\r\n\r\n\tpublic constructor(stateManager: BaseStateManager<TState>, reset: boolean = false) {\r\n\t\tthis._stateManager = stateManager;\r\n\t\tthis._reset = reset;\r\n\t}\r\n\r\n\tpublic onAction(callback: OnActionCallback<TState>): StateBind<TState> {\r\n\t\tthis._callback = callback;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic trigger(data: any): void {\r\n\t\tvar nextState = this._callback(this._stateManager.getCurrentState(), data);\r\n\t\tthis._stateManager.updateState(nextState, this._reset);\r\n\t}\r\n\r\n\tpublic static create<TState>(stateManager: BaseStateManager<TState>, reset: boolean = false): StateBind<TState> {\r\n\t\treturn new StateBind(stateManager, reset);\r\n\t}\r\n}"]}