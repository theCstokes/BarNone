{"version":3,"sources":["../src/Vee/Elements/Components/List/List.ts"],"names":[],"mappings":"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","file":"List.js","sourcesContent":["import { BaseComponent } from \"Vee/Elements/Core/BaseComponent/BaseComponent\";\r\nimport Core from \"Vee/Elements/Core/Core\";\r\nimport ViewInflater from \"Vee/Elements/Core/ViewInflater\";\r\nimport { OnSelectCallback } from \"Vee/Elements/Core/BindTypes\";\r\nimport { BaseListItem } from \"Vee/Elements/Core/BaseListItem/BaseListItem\";\r\n\r\nexport default class UEyeList extends BaseComponent {\r\n    private _elementList: HTMLElement;\r\n\r\n    private _items: any[]\r\n    private _listElements: HTMLElement[];\r\n    private _style: any;\r\n    private _onSelectCallback: OnSelectCallback;\r\n    private _selected: BaseListItem;\r\n\r\n    public constructor(parent: HTMLElement) {\r\n        super(parent);\r\n        Core.addClass(this.element, \"UEye-List\");\r\n        // this.element.onclick = this.onSelectCallback.bind(this);\r\n\r\n        this._elementList = Core.create(\"ul\", this.element, \"Element-List\");\r\n    }\r\n\r\n    public set items(value: any[]) {\r\n        this.destroyItems();\r\n        this._items = value;\r\n        this.refreshItems();\r\n    }\r\n    public get items(): any[] {\r\n        return this._items;\r\n    }\r\n\r\n    public set style(value: any) {\r\n        this._style = value;\r\n    }\r\n    public get style(): any {\r\n        return this._style;\r\n    }\r\n\r\n    private destroyItems() {\r\n        if (this._listElements !== undefined) {\r\n            this._listElements.forEach(listElement => {\r\n                var parentNode = listElement.parentNode;\r\n                if (parentNode !== null) {\r\n                    parentNode.removeChild(listElement);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private refreshItems() {\r\n        this._listElements = [];\r\n        this._items.forEach(async element => {\r\n            var listElement = Core.create(\"li\", this._elementList, \"Element\");\r\n            var instance: BaseListItem = await ViewInflater\r\n                .InflateByPath(this._style, listElement, element);\r\n\r\n            // if (this._selected !== instance && instance.selected) {\r\n            //     instance.selected = false;\r\n            //     console.warn(\"Item is already selected\");\r\n            // } else \r\n            if (instance.selected) {\r\n                this._selected = instance;\r\n            }\r\n\r\n            listElement.onclick = (e) => {\r\n                if (this._selected !== undefined) {\r\n                    this._selected.selected = false;\r\n                }\r\n                instance.selected = true;\r\n                this._selected = instance;\r\n                this.onSelectCallback();\r\n            };\r\n\r\n            // TODO - add events to component.\r\n            this._listElements.push(listElement);\r\n        });\r\n    }\r\n\r\n    public onModifiedChange(): void {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n    public onReadonlyChange(): void {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n    public onErrorChange(): void {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n\r\n    public get selected(): any {\r\n        return this._selected;\r\n    }\r\n\r\n    public get onSelect(): OnSelectCallback {\r\n        return this._onSelectCallback;\r\n    }\r\n    public set onSelect(value: OnSelectCallback) {\r\n        this._onSelectCallback = value;\r\n    }\r\n\r\n    private onSelectCallback(): void {\r\n        if (this._onSelectCallback !== undefined) {\r\n            this._onSelectCallback(this._selected);\r\n        }\r\n    }\r\n}"]}